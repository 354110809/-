webpackJsonp([4],{"7M2Y":function(t,e,n){"use strict";var r={props:["studyBannerObj","keep_studing_router_go"],data:function(){return{}},computed:{percent:function(){return~~(this.studyBannerObj.completeNum/this.studyBannerObj.total*100)},studyText:function(){return 0==this.studyBannerObj.completeNum?"开始学习":~~(this.studyBannerObj.completeNum/this.studyBannerObj.total*100)<100?"继续学习":~~(this.studyBannerObj.completeNum/this.studyBannerObj.total*100)>=100?"完成学习":void 0}},methods:{routerGo:function(){this.$emit("routerGo",this.keep_studing_router_go)}},components:{circleBox:n("ROUZ").a}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner_inner"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.studyBannerObj.coverSrc,alt:""}})]),t._v(" "),n("div",{staticClass:"text"},[n("p",{staticClass:"title"},[t._v(t._s(t.studyBannerObj.courseName))]),t._v(" "),n("p",{staticClass:"introduction"},[t._v(t._s(t.studyBannerObj.introduction))]),t._v(" "),n("div",{staticClass:"learning_progress"},[t._v("上次学习进度："+t._s(t.studyBannerObj.learning_progress))]),t._v(" "),n("div",{staticClass:"btn",on:{click:t.routerGo}},[t._v(t._s(t.studyText))])]),t._v(" "),n("div",{staticClass:"circle_content"},[n("circleBox",{attrs:{percent:this.percent}},[n("div",{staticClass:"circleboxcontent"},[n("p",[t._v("已学"+t._s(t.studyBannerObj.completeNum)+"关")]),t._v(" "),n("p",[t._v("一共"+t._s(t.studyBannerObj.total)+"关")])])])],1)])},staticRenderFns:[]};var a=n("VU/8")(r,s,!1,function(t){n("BGTT")},"data-v-57e941b8",null);e.a=a.exports},BGTT:function(t,e){},"m/fu":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7M2Y"),s=(n("eKW/"),{data:function(){return{studyBannerObj:{completeNum:null,total:null,courseName:null,introduction:null,coverSrc:null,learning_progress:""},keep_studing_router_go:"/studyMain",dataSource:[]}},mounted:function(){var t=this;this.$loading.show({text:"拼命加载中"});var e=localStorage.getItem("courseId");this.axios.post(this.API.courseDetails,{courseId:e}).then(function(e){0!=e.data.length?(t.dataSource=e.data,t.$loading.hide()):t.$alert("暂无课程","请求提示",{confirmButtonText:"确定",callback:function(t){console.log("没有课程")}})}).catch(function(e){t.$loading.hide(),401==e.code?t.$message({message:e.message,type:"warning",duration:"1000",onClose:function(){t.$parent.logOut()}}):t.$alert("暂无已购课程","请求提示",{confirmButtonText:"确定",callback:function(n){console.log(e.message),t.$router.push({path:"/"})}})}),this.initAjax()},methods:{routerGoHandle:function(t){localStorage.getItem("courseId");this.$router.push({path:t})},routerGoStudyMainHandle:function(t,e){var n=[];n=this.Utils.isIE()?this.Utils.flattenT(this.dataSource):this.dataSource.map(function(t){return t.chapterExerciseSuiteList}).flat(1/0),console.log(n);var r=n.findIndex(function(e){return e.chapter.id==t.chapter.id}),s=n.filter(function(t){return 0==t.chapter.isLean})[0];!1===n[0].chapter.isLean&&n.map(function(t){return t.chapter.isLean}).every(function(t){return 0==t})?e.exerciseTitle===this.dataSource[0].chapterExerciseSuiteList[0].chapterExerciseList[0].exerciseTitle?this.$router.push({path:"/studymain",query:{id:e.chapterId}}):alert("您是初学者请先学习："+n[0].chapter.chapterName+" - "+this.dataSource[0].chapterExerciseSuiteList[0].chapterExerciseList[0].exerciseTitle):n[r-1<0?0:r-1].chapter.isLean?this.$router.push({path:"/studymain",query:{id:e.chapterId}}):alert("请先学习"+s.chapter.chapterName+" - "+s.chapterExerciseList.map(function(t){return t.exerciseTitle})[0])},initAjax:function(){var t=this;this.axios.get(this.API.purchasedCourses+"/"+localStorage.getItem("courseId")).then(function(e){var n=e.data;console.log(n),t.studyBannerObj.completeNum=null===n.completeNum?0:n.completeNum,t.studyBannerObj.total=n.total,t.studyBannerObj.courseName=n.courseName,t.studyBannerObj.introduction=n.describe,t.studyBannerObj.coverSrc=n.coverSrc,t.studyBannerObj.learning_progress=null===n.currChapter?"无":n.currChapter}).catch(function(e){t.$loading.hide(),401==e.code?t.$message({message:e.message,type:"warning",duration:"1000",onClose:function(){t.$parent.logOut()}}):t.$alert("暂无已购课程","请求提示",{confirmButtonText:"确定",callback:function(n){console.log(e.message),t.$router.push({path:"/"})}})})}},components:{studyBanner:r.a}}),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"banner"},[n("study-banner",{attrs:{studyBannerObj:t.studyBannerObj,keep_studing_router_go:t.keep_studing_router_go},on:{routerGo:t.routerGoHandle}})],1),t._v(" "),n("div",{staticClass:"content"},[n("ul",t._l(t.dataSource,function(e,r){return n("li",{key:r},[n("ul",t._l(e.chapterExerciseSuiteList,function(e,r){return n("li",{key:r},[n("div",{staticClass:"img_topic"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.httpApi+e.chapter.imageUrl,alt:""}})]),t._v(" "),t._l(e.chapterExerciseList,function(r,s){return n("div",{key:s,staticClass:"topic"},[n("div",{staticClass:"text",style:{"background-image":"url("+(t.httpApi+r.imageUrl)+")"},on:{click:function(n){return t.routerGoStudyMainHandle(e,r)}}},[t._v(t._s(r.exerciseTitle))])])})],2)])}),0)])}),0)])])},staticRenderFns:[]};var i=n("VU/8")(s,a,!1,function(t){n("rQV5")},"data-v-26112097",null);e.default=i.exports},rQV5:function(t,e){}});
//# sourceMappingURL=4.d545969a325fba9ad502.js.map